From 63948f3a607ed8e7a3ce9ac4e20782359896e27e Mon Sep 17 00:00:00 2001
From: "Seth M. Larson" <SethMichaelLarson@users.noreply.github.com>
Date: Wed, 28 Mar 2018 11:06:59 -0500
Subject: [PATCH] Change remove_headers_on_redirect default value

---
 urllib3/util/retry.py | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/urllib3/util/retry.py b/urllib3/util/retry.py
index 948c15926..7ad3dc660 100644
--- a/urllib3/util/retry.py
+++ b/urllib3/util/retry.py
@@ -160,7 +160,7 @@ def __init__(self, total=10, connect=None, read=None, redirect=None, status=None
                  method_whitelist=DEFAULT_METHOD_WHITELIST, status_forcelist=None,
                  backoff_factor=0, raise_on_redirect=True, raise_on_status=True,
                  history=None, respect_retry_after_header=True,
-                 remove_headers_on_redirect=None):
+                 remove_headers_on_redirect=DEFAULT_REDIRECT_HEADERS_BLACKLIST):
 
         self.total = total
         self.connect = connect
@@ -171,10 +171,6 @@ def __init__(self, total=10, connect=None, read=None, redirect=None, status=None
             redirect = 0
             raise_on_redirect = False
 
-        if remove_headers_on_redirect is None:
-            remove_headers_on_redirect = self.DEFAULT_REDIRECT_HEADERS_BLACKLIST
-        remove_headers_on_redirect = set(remove_headers_on_redirect)
-
         self.redirect = redirect
         self.status_forcelist = status_forcelist or set()
         self.method_whitelist = method_whitelist
